{% extends 'base_layout.html' %}
{% load static %}
{% block styles %}
<link rel="stylesheet" href="{% static 'librarys/styles/search_style.css' %}">
{% endblock styles %}
{% block content %}
        <div id="sub-header">
            <section id="home">
                    <form method="get" action="/library" enctype="multipart/form-data">
                        <input type="text" placeholder=" e.g facebook authentication" name="q" value="{{request.GET.q}}">
                        <button type="submit" value="{{request.GET.q}}"><i class="fa fa-search"></i></button>
                    </form>
            </section>
        </div>
        {% if found > 1 %}
            <h3>filter: found {{ found }} search results</h3>
        {% else %}
            <h3>filter: found {{ found }} search result</h3>
        {% endif %}
        {% for library in libraries %}
            <a href="{% url 'like' library.id %}">
                <div id="library-div">
                    <h2 id="library-name">{{ library.name }}</h2>
                    <p id="version">{{ library.library_version }}</p>
                </div>
            </a>
        {% endfor %}
        <div id="pagination">
            {% if page.has_previous and page.has_next %}
                <a href="/library/?q={{ request.GET.get }}&page={{ page.previous_page_number }}" id="previous">Previous</a>
                <a href="/library/?q={{ request.GET.get }}&page={{ page.next_page_number }}" id="next">Next</a>
            {% elif  page.has_previous %}
                <a href="/library/?q={{ request.GET.get }}&page={{ page.previous_page_number }}" id="previous">Previous</a>
                <a href="/library/?q={{ request.GET.get }}&page={{ page.next_page_number }}" id="next" style="pointer-events: none; opacity: 0.4;">Next</a>
            {% elif  page.has_next %}
                <a href="/library/?q={{ request.GET.get }}&page={{ page.previous_page_number }}" id="previous" style="pointer-events: none; opacity: 0.4;">Previous</a>
                <a href="/library/?q={{ request.GET.get }}&page={{ page.next_page_number }}" id="next">Next</a>
            {% else %}
                <a href="/library/?q={{ request.GET.get }}&page={{ page.previous_page_number }}" id="previous" style="pointer-events: none; opacity: 0.4;">Previous</a>
                <a href="/library/?q={{ request.GET.get }}&page={{ page.next_page_number }}" id="next" style="pointer-events: none; opacity: 0.4;">Next</a>
            {% endif %}
        </div>
{% endblock content %}
